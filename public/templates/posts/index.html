<header class="page-header">
  <h2>Create Post</h2>
</header>

<form id="post-form" name="postForm">
  <div class="form-group">
    <input type="text" name="title" class="form-control" placeholder="Title" ng-model="postParams.title" required>
  </div>
  <div class="form-group">
    <input type="text" name="author" class="form-control" placeholder="Author" ng-model="postParams.author" required>
  </div>
  <div class="form-group">
    <textarea name="body" class="form-control" placeholder="Write..." ng-model="postParams.body" required></textarea>
  </div>
  <div class="form-group">
    <input type="submit" value="Create Post" class="btn btn-success" ng-click="createPost()" ng-show="postForm.$valid">
  </div>
</form>

<p class="text-danger" ng-if="!posts.length">No Posts</p>

<h2 ng-if="posts.length">Showing {{ posts.length }} posts</h2>
<div class="post" ng-repeat="post in posts" ng-if="posts.length">
  <header class="page-header">
    <h1>
      <a ui-sref="posts.show({ id: post.id })">
        {{ post.title }}
      </a>
      <br>
      <small>by {{ post.author }}</small>
      <br>
      <small>Posted on: {{ post.created_at | date: 'EEEE d MMMM, yyyy' }}</small>
    </h1>
  </header>

  <div class="row">
    <div class="col-xs-12 col-sm-6 col-sm-offset-1">
      <p>{{ post.body | limitTo: 100 }}...</p>
    </div>
  </div>
</div>

